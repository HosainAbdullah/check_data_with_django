{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="{%static 'css/bootstrap.min.css'%}" type="text/css" />
</head>
<body>
    <div class="container">
        <div class="text-center">
        <h1> مرحبا بكم  </h1>
        {% comment %} <form method="post"> {% endcomment %}
            {% csrf_token %}
            <select id="text-to-analyze" name="CountryCodeShow" class="custom-select custom-select-lg mb-3">
                <option value="NON">Select a Country                                                                </option>
                <option value="AFGH      ">AFGHANISTAN </option>
                <option value="ALB       ">ALBANIA </option>
                <option value="ALGR      ">ALGERIA </option>
                <option value="ANGL      ">ANGOLA </option>
                <option value="ARG       ">ARGENTINA </option>
                <option value="ARM       ">ARMENIA </option>
                <option value="ASTL      ">AUSTRALIA </option>
                <option value="AUST      ">AUSTRIA </option>
                <option value="AZR       ">AZERBAIJAN </option>
                <option value="BAMA      ">BAHAMAS </option>
                <option value="BAHR      ">BAHRAIN </option>
                <option value="BANG      ">BANGLADESH </option>
                <option value="BRDO      ">BARBADOS </option>
                <option value="BYS">BELARUS </option>
                <option value="BELG      ">BELGIUM </option>
                <option value="BLZ       ">BELIZE </option>
                <option value="BENN      ">BENIN </option>
                <option value="BERM      ">BERMUDA </option>
                <option value="BOL       ">BOLIVIA </option>
                <option value="BIH       ">BOSNIA-HERZEGOVINA </option>
                <option value="BOT       ">BOTSWANA </option>
                <option value="BRZL">BRAZIL </option>
                <option value="BRZL      ">BRAZIL </option>
                <option value="BRNI      ">BRUNEI </option>
                <option value="BULG      ">BULGARIA </option>
                <option value="BURK      ">BURKINA FASO </option>
                <option value="BURM">BURMA </option>
                <option value="BRND      ">BURUNDI </option>
                <option value="CAVI      ">CABO VERDE </option>
                <option value="CBDA      ">CAMBODIA </option>
                <option value="CMRN      ">CAMEROON </option>
                <option value="CAN">CANADA </option>
                <option value="CHAD">CHAD </option>
                <option value="CHIL      ">CHILE </option>
                <option value="CHIN      ">CHINA - MAINLAND </option>
                <option value="COL       ">COLOMBIA </option>
                <option value="CONB      ">CONGO (BRAZZAVILLE) </option>
                <option value="COD       ">CONGO (KINSHASA) </option>
                <option value="CSTR      ">COSTA RICA </option>
                <option value="IVCO      ">COTE D`IVOIRE </option>
                <option value="HRV       ">CROATIA </option>
                <option value="CUBA">CUBA </option>
                <option value="CUR">CURACAO </option>
                <option value="CYPR      ">CYPRUS </option>
                <option value="CZEC      ">CZECH REPUBLIC </option>
                <option value="DEN       ">DENMARK </option>
                <option value="DOMR      ">DOMINICAN REPUBLIC </option>
                <option value="ECUA      ">ECUADOR </option>
                <option value="EGYP      ">EGYPT </option>
                <option value="ELSL      ">EL SALVADOR </option>
                <option value="EGN       ">EQUATORIAL GUINEA </option>
                <option value="ERI       ">ERITREA </option>
                <option value="EST">ESTONIA </option>
                <option value="SZLD      ">ESWATINI </option>
                <option value="ETH       ">ETHIOPIA </option>
                <option value="FSM">FEDERATED STATES OF MICRONESIA </option>
                <option value="FIN">FINLAND </option>
                <option value="FRAN      ">FRANCE </option>
                <option value="GABN">GABON </option>
                <option value="GRZ       ">GEORGIA </option>
                <option value="GER       ">GERMANY </option>
                <option value="GHAN      ">GHANA </option>
                <option value="GRBR      ">GREAT BRITAIN AND NORTHERN IRELAND </option>
                <option value="GRC       ">GREECE </option>
                <option value="GREN">GRENADA </option>
                <option value="GUAT      ">GUATEMALA </option>
                <option value="GNEA">GUINEA </option>
                <option value="GUY       ">GUYANA </option>
                <option value="HAT       ">HAITI </option>
                <option value="HOND      ">HONDURAS </option>
                <option value="HNK       ">HONG KONG S. A. R. </option>
                <option value="HUNG      ">HUNGARY </option>
                <option value="ICLD      ">ICELAND </option>
                <option value="IND       ">INDIA </option>
                <option value="IDSA      ">INDONESIA </option>
                <option value="IRAQ      ">IRAQ </option>
                <option value="IRE       ">IRELAND </option>
                <option value="ISRL      ">ISRAEL </option>
                <option value="ITLY      ">ITALY </option>
                <option value="JAM       ">JAMAICA </option>
                <option value="JPN">JAPAN </option>
                <option value="JPN       ">JAPAN </option>
                <option value="JRSM      ">JERUSALEM </option>
                <option value="JORD      ">JORDAN </option>
                <option value="KAZ       ">KAZAKHSTAN </option>
                <option value="KENY      ">KENYA </option>
                <option value="KSV">KOSOVO </option>
                <option value="KUWT      ">KUWAIT </option>
                <option value="KGZ       ">KYRGYZSTAN </option>
                <option value="LAOS      ">LAOS </option>
                <option value="LATV      ">LATVIA </option>
                <option value="LEBN      ">LEBANON </option>
                <option value="LES       ">LESOTHO </option>
                <option value="LIBR      ">LIBERIA </option>
                <option value="LBYA      ">LIBYA </option>
                <option value="LITH      ">LITHUANIA </option>
                <option value="LXM       ">LUXEMBOURG </option>
                <option value="MADG      ">MADAGASCAR </option>
                <option value="MALW      ">MALAWI </option>
                <option value="MLAS      ">MALAYSIA </option>
                <option value="MALI      ">MALI </option>
                <option value="MLTA      ">MALTA </option>
                <option value="MAUR      ">MAURITANIA </option>
                <option value="MRTS      ">MAURITIUS </option>
                <option value="MEX       ">MEXICO </option>
                <option value="MLD       ">MOLDOVA </option>
                <option value="MONG      ">MONGOLIA </option>
                <option value="MTG       ">MONTENEGRO </option>
                <option value="MORO      ">MOROCCO </option>
                <option value="MOZ       ">MOZAMBIQUE </option>
                <option value="NAMB      ">NAMIBIA </option>
                <option value="NEP       ">NEPAL </option>
                <option value="NETH      ">NETHERLANDS </option>
                <option value="NZLD      ">NEW ZEALAND </option>
                <option value="NIC       ">NICARAGUA </option>
                <option value="NIR       ">NIGER </option>
                <option value="NRA       ">NIGERIA </option>
                <option value="MKD       ">NORTH MACEDONIA </option>
                <option value="NIRE      ">NORTHERN IRELAND </option>
                <option value="NORW      ">NORWAY </option>
                <option value="OMAN      ">OMAN </option>
                <option value="PKST      ">PAKISTAN </option>
                <option value="PAN       ">PANAMA </option>
                <option value="PNG       ">PAPUA NEW GUINEA </option>
                <option value="PARA      ">PARAGUAY </option>
                <option value="PERU      ">PERU </option>
                <option value="PHIL      ">PHILIPPINES </option>
                <option value="POL       ">POLAND </option>
                <option value="PORT">PORTUGAL </option>
                <option value="PORT      ">PORTUGAL </option>
                <option value="QTAR      ">QATAR </option>
                <option value="KOR       ">REPUBLIC OF KOREA (SOUTH KOREA) </option>
                <option value="PALA">REPUBLIC OF PALAU </option>
                <option value="RMI       ">REPUBLIC OF THE MARSHALL ISLANDS </option>
                <option value="ROM       ">ROMANIA </option>
                <option value="RUS       ">RUSSIA </option>
                <option value="RWND      ">RWANDA </option>
                <option value="WSAM      ">SAMOA </option>
                <option value="SARB      ">SAUDI ARABIA </option>
                <option value="SENG      ">SENEGAL </option>
                <option value="SRB       ">SERBIA </option>
                <option value="SLEO      ">SIERRA LEONE </option>
                <option value="SING      ">SINGAPORE </option>
                <option value="SVK       ">SLOVAKIA </option>
                <option value="SVN       ">SLOVENIA </option>
                <option value="SAFR      ">SOUTH AFRICA </option>
                <option value="SSDN">SOUTH SUDAN </option>
                <option value="SPN       ">SPAIN </option>
                <option value="SRL       ">SRI LANKA </option>
                <option value="SUDA      ">SUDAN </option>
                <option value="SURM      ">SURINAME </option>
                <option value="SWDN      ">SWEDEN </option>
                <option value="SWTZ      ">SWITZERLAND </option>
                <option value="SYR       ">SYRIA </option>
                <option value="TWAN      ">TAIWAN </option>
                <option value="TJK       ">TAJIKISTAN </option>
                <option value="TAZN      ">TANZANIA </option>
                <option value="THAI      ">THAILAND </option>
                <option value="GAM       ">THE GAMBIA </option>
                <option value="TOGO      ">TOGO </option>
                <option value="TRIN      ">TRINIDAD AND TOBAGO </option>
                <option value="TNSA      ">TUNISIA </option>
                <option value="TRKY      ">TURKEY </option>
                <option value="TKM">TURKMENISTAN </option>
                <option value="UGAN      ">UGANDA </option>
                <option value="UKR       ">UKRAINE </option>
                <option value="UAE       ">UNITED ARAB EMIRATES </option>
                <option value="URU       ">URUGUAY </option>
                <option value="UZB       ">UZBEKISTAN </option>
                <option value="VENZ      ">VENEZUELA </option>
                <option value="VTNM      ">VIETNAM </option>
                <option value="YEM       ">YEMEN </option>
                <option value="ZAMB      ">ZAMBIA </option>
                <option value="ZIMB      ">ZIMBABWE </option>
            </select>
            {% comment %} <button type="submit" name="submit" value="submit" class="btn btn-primary btn-lg btn-block">Add</button> {% endcomment %}
            <input type="submit" value="بدأ  " onclick="startTimer()" class="btn btn-primary btn-lg btn-block"/>
     
            <button onclick="stopTimer()" class="btn btn-secondary btn-lg btn-block">
                أيقاف
            </button>
       </div>
    </div>

<script src="{%static 'js/jquery-3.6.1.min.js'%}"></script>
<script src="{%static 'js/popper.min.js'%}"></script>
<script src="{%static 'js/bootstrap.min.js'%}"></script>
<script> 
  var timer;
          let time = 1200000;
         // let time = 300000;
          function getCheck() {
                alert("5 seconds are up");
                 var text = document.getElementById('text-to-analyze').value;
                 timer = setTimeout(getCheck , time);
                 alert(timer);
                 if(text == 'NON'){
                  alert(text);
                  clearTimeout(timer);
                  }else{
                    $.ajax({
                        type: "POST",
                        url: '{{ '' }}',
                        data: { csrfmiddlewaretoken: '{{ csrf_token }}', text: text },  
                        success: function callback(response){ alert(response); }
                    });    
                  }
               
                  }
        function startTimer() {
        // 1200000 20 minit // 1 second = 1000 milliseconds.
             getCheck();
            }
         
        function stopTimer() {
            alert("Timer stopped");
            clearTimeout(timer);
        }
</script>
</body>
</html>